<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Order #{{order._id | slice:0:4}}</ion-title>
    <ion-buttons slot="secondary">
      <ion-button (click)="onClose()" size="large">
        <ion-icon name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="order">
  <ion-grid style="margin-top: 15px;">
    <div class="table-header">
      <ion-row>
        <ion-col>
          <ion-label class="header-title">Item</ion-label>
        </ion-col>
        <ion-col>
          <ion-label class="header-title">Price</ion-label>
        </ion-col>
        <ion-col>
          <ion-label class="header-title">Quantity</ion-label>
        </ion-col>
        <ion-col>
          <ion-label class="header-title">Total</ion-label>
        </ion-col>
      </ion-row>
    </div>
    <div *ngFor="let item of order.items; let i = index">
      <div ngClass="{{i % 2 === 0 ? 'first-class':'second-class' }}">
        <ion-row class="ion-col-sides">
          <ion-col>
            <ion-label class="table-content"> {{item.itemData.title}}</ion-label>
          </ion-col>
          <ion-col>
            <ion-label class="table-content"> {{item.itemData.price | currency}}</ion-label>
          </ion-col>
          <ion-col>
            <ion-label class="table-content">{{item.quantity}}</ion-label>
          </ion-col>
          <ion-col>
            <ion-label class="table-content"> {{item.quantity * item.itemData.price | currency}}</ion-label>
          </ion-col>
        </ion-row>
      </div>
    </div>
    <div class="table-footer">
      <ion-row>
        <ion-col>
          <ion-label class="bottom-title-total">Total:</ion-label>
        </ion-col>
        <ion-col>
        </ion-col>
        <ion-col>
        </ion-col>
        <ion-col>
          <ion-label class="bottom-title-total">{{order.total | currency}}</ion-label>
        </ion-col>
      </ion-row>
    </div>
  </ion-grid>

    <ion-grid *ngIf="isAdmin">
    <ion-col>
      <ion-button (click)="setOrderStatusOnPreparing()">preparing</ion-button>
      <ion-button (click)="setOrderStatusOnDone()">done</ion-button>
    </ion-col>
  </ion-grid> 
</ion-content>
